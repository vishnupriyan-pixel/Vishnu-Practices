<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SuperMarket-Billing</title>
    <link rel="stylesheet" href="CSS/supermarket-billing.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet">
 
</head>
<body>

    <div class="container">

        <div class="head">

            <div class="head-content">

                <h3 id="shp-name">SuperMarket Billing</h3>
            </div>
        </div>

        <div class="main">

            <div class="items">

                <form class="details">
                    <div class="custom-detail1">
                        <span style="color: white;">Customer ID </span>
                        <input type="number" id="det1" required>
                    </div>

                    <div class="custom-detail2">
                        <span style="color: white;">Customer Name </span>
                        <input type="text" id="det5"  pattern="[A-Za-z]" required >
                    </div>

                    <div class="custom-detail2">
                        <span style="color: white;">Product Code </span>
                        <input type="number" id="det" style="margin-left: 60px;" required autocomplete="off">
                    </div>

                    <div class="custom-detail2">
                        <span style="color: white;">Product Name </span>
                        <input type="text" id="det6" style="margin-left: 54px;" placeholder="Product Name"pattern="[A-Za-z]" required>
                    </div>

                   

                    <div class="custom-detail2">
                        <span style="color: white;">Price Per Unit  </span>
                        <input type="number" id="det2" style="margin-left: 60px;" oninput="multiply1()" required>
                    </div>

                    <div class="custom-detail2">
                        <span style="color: white;">Quantity </span>    
                        <input type="number" id="det3" style="margin-left: 97px;"oninput="multiply1()" required>
                    </div>

                    <div class="custom-detail2">
                        <span style="color: white;">Amount  </span>
                        <input type="text" id="det4" style="margin-left: 100px;" required>
                    </div>

                    <input type="button" id="add-btn" onclick="add_product()" value="ADD">

                  </form>
                    <br>

                    <div class="total-list">

                    </div>

                
            </div>

            <div class="items-order">
                
                <!-- <img src="images/grad-back.jpg" alt="" style="height: 597px;width: 100%;object-fit: cover;z-index: -1;"> -->
              
                <div class="top-head">
                    
                        <div id="t-head1">

                            <div id="detail1">

                                <h2>Product Name</h2>

                            </div>

                            <div id="detail2">

                               

                            </div>

                        </div>


                        <div id="t-head1">

                            <div id="detail1">

                                <h2>Qty</h2>

                            </div>

                            <div id="detail3">

                        </div>

                        </div>


                        <div id="t-head1">

                            <div id="detail1">

                                <h2>Price Per Unit</h2>

                            </div>

                            <div id="detail4">

                        </div>

                        </div>


                        <div id="t-head1">

                            <div id="detail1">

                                <h2>Amount</h2>

                                <div id="amnt-dts"></div>

                            </div>

                            <div id="detail5">

                            </div>
                    
                  
                </div>


                <div id="t-head1">

                    <div id="detail7" >

                        <h2>Remove</h2>

                    </div>

                    <div id="detail6" onclick="remove_items()">

                </div>
            
          
        </div>

               

            </div>

            <div id="total1">Total:

                <p id="tot-amnt1"></p>
            </div>

            <button id="sub-cal" onclick="gstCalc()">Submit</button>

            <div id="total2">GST:

                <p id="tot-amnt2"></p> 
            </div>

            <div id="total3">OverAll:

                <p id="tot-amnt3"></p>
            </div>

          

        </div>


    </div>

    <script>

      function multiply1()
      {
        var  num1 = document.getElementById("det2").value;
        var  num2 = document.getElementById("det3").value;

        var tot = num1 * num2;

          document.getElementById("det4").value = tot;
         
      }

      function add_product()
      {

         /////validation process
         var txtPattern = /[0-9]/;

       var dtl1 = document.getElementById("det1").value;
       var dtl2 = document.getElementById("det5").value;
       var dtl3 = document.getElementById("det").value;
       var dtl4 = document.getElementById("det6").value;
       var dtl5 = document.getElementById("det2").value;
       var dtl6 = document.getElementById("det3").value;
       
      
       


       if (dtl1 == "") {
           alert("Please complete Customer ID");
           return false;
       }
       else if (dtl2 == "") {
           alert("Please complete Customer Name");
           return false;
       }else if (txtPattern.test(dtl2) || dtl2 === "")
       {
           alert("Customer Name Should be in Letters");
           return false;
       }
       else if (dtl3 == "") {
           alert("Please complete the Product Code");
           return false;
       }
       else if (dtl4 == "") {
           alert("Please complete the Product Name");
           return false;
       }else if (txtPattern.test(dtl4) || dtl4 === "")
       {
           alert("Product Name Should be in Letters");
           return false;
       }
       else if (dtl5 == "") {
           alert("Please complete the Price Per Unit");
           return false;
       }
       else if (dtl6 == "") {
           alert("Please complete the Quantity");
           return false;
       }

       ///Append the items

        var productName = document.getElementById("det6").value;
        var qty = document.getElementById("det3").value;
        var priceUnit = document.getElementById("det2").value;
        var amnt = document.getElementById("det4").value;
        var btn = "Remove";

        //prdct-name
      
       var create = document.createElement("DIV");

       var txt = document.createTextNode(productName);
       
       create.appendChild(txt);
       document.getElementById("detail2").appendChild(create);

       //Qty
      
       var create = document.createElement("DIV");

       var txt = document.createTextNode(qty);
       
       create.appendChild(txt);
       document.getElementById("detail3").appendChild(create);

       //price-unit
      
       var create = document.createElement("DIV");

       var txt = document.createTextNode(priceUnit);
       
       create.appendChild(txt);
       document.getElementById("detail4").appendChild(create);

       //amnt

       var create = document.createElement("P");
       
       var txt = document.createTextNode(amnt);
       
       create.appendChild(txt);
       document.getElementById("detail5").appendChild(create).setAttribute("class","amnt1");

       ///delete


       var create = document.createElement("BUTTON");

       var txt = document.createTextNode(btn);
       
       create.appendChild(txt);
       document.getElementById("detail6").appendChild(create);


       


       ///reset the items.

       document.getElementById("det6").value = "";
       document.getElementById("det").value = "";
       document.getElementById("det3").value = "";
       document.getElementById("det2").value = "";
       document.getElementById("det4").value = "";

       
      ///amnt-details

      var a = document.querySelectorAll(".amnt1");

    //   alert(a);

     var res = 0;
     var x;


      for(var i = 0; i < a.length; i++)
      {
          let x = Number(a[i].textContent);

          res += x;
          
            
      }
      document.querySelector("#tot-amnt1").innerHTML = res;


      


   
}

////GST calculation

      

function gstCalc()
      {
          
            var b = document.querySelector("#tot-amnt1").textContent;
            //  alert(b);
            var  z = (b * 12) / 100;
            document.querySelector("#tot-amnt2").innerHTML = z;

            var c = Number(b) + z;
            document.querySelector("#tot-amnt3").innerHTML = Math.round(c);
            
          
      }
    
    ///removing the items

//   function remove_items()
//   {
//    var del1 = document.querySelector("#detail2").querySelectorAll(["div"]);
//    var del2 = document.querySelector("#detail3").querySelectorAll(["div"]);
//    var del3 = document.querySelector("#detail4").querySelectorAll(["div"]);
//    var del4 = document.querySelector("#detail5").querySelectorAll(["p"]);
//    var del5 = document.querySelector("#detail6").querySelectorAll(["button"]);

//    del1.remove();
//    del2.remove();
//    del3.remove();
//    del4.remove();
//    del5.remove();
// //    var k = d.indexOf(["div"]);
// //    alert(d);
// //    alert(e);
// //    alert(f);
// //    alert(g);
// //    alert(h);

//   }

     function remove_items()
     {
         
        
         var ele1 = document.getElementById("detail2");
         ele1.parentNode.removeChild(ele1);

         

         var ele2 = document.getElementById("detail3");
         ele2.parentNode.removeChild(ele2);

        

         var ele3 = document.getElementById("detail4");
         ele3.parentNode.removeChild(ele3);

        
         var ele4 = document.getElementById("detail5");
         ele4.parentNode.removeChild(ele4);

         

         var ele5 = document.getElementById("detail6");
         ele5.parentNode.removeChild(ele5);

         
        }
     


 </script>
    


    
</body>
</html>